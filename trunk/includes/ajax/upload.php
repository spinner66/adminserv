<?php	// INCLUDES	session_start();	require_once '../../config/adminserv.cfg.php';	require_once '../../config/servers.cfg.php';	require_once '../adminserv.inc.php';	AdminServUI::getClass();		// ISSET	if( isset($_GET['path']) ){ $path = $_GET['path']; }else{ $path = null; }	if( substr($path, -1, 1) != '/'){ $path = $path.'/'; }	if( isset($_GET['gtlm']) ){ $gtlm = $_GET['gtlm']; }else{ $gtlm = null; }	if( isset($_GET['mset']) ){ $mset = $_GET['mset']; }else{ $mset = null; }	if( isset($_GET['type']) ){ $type = $_GET['type']; }else{ $type = null; }		// DATA	if($path != null){		if( AdminServ::initialize() ){			// Fonction de rappel pour le remplacement des caractères spéciaux			function replaceFilename($str){				return $str;			}						if(SERVER_VERSION_NAME == 'TmForever'){				$queries = array(					'insert' => 'InsertChallenge',					'add' => 'AddChallenge',					'type' => $type				);			}			else{				$queries = array(					'insert' => 'InsertMap',					'add' => 'AddMap',					'type' => $type				);			}						// Enregistrement du fichier			echo FileUploader::saveUploadedFileToManiaPlanetDedicatedServer($client, $path, $queries, AdminServConfig::$ALLOWED_EXTENSIONS, (AdminServConfig::$SIZE_LIMIT * 1024 * 1024), 'replaceFilename');		}		$client->Terminate();	}?>